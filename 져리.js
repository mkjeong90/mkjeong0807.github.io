const title = [{"singer": "신지현(져리)", "songs": ["행복이란", "열두번", "문자라도", "하루", "들리나요"]},
    {"singer": "데이식스", "songs": ["예뻤어"]}]; 
const trot = [{"singer": "강민주", "songs": ["회룡포"]}, {"singer": "강진", "songs": ["땡벌", "마부", "붓"]}, {"singer": "강혜연", "songs": ["와요와요"]},
    {"singer": "곽지은", "songs": ["꽃으로"]}, {"singer": "금잔디", "songs": ["나를살게하는사랑", "당신은명작", "서울가살자", "신사랑고개", "엄마의노래", "여여", "오라버니", "일편단심", "지름길", "초롱새"]},
    {"singer": "김다나", "songs": ["자시삼경"]}, {"singer": "김다비", "songs": ["주라주라"]}, {"singer": "김란영", "songs": ["가인"]},
    {"singer": "김소유", "songs": ["숫자인생"]}, {"singer": "김수희", "songs": ["남행열차", "애모"]}, {"singer": "김연자", "songs": ["밤열차", "블링블링", "영동부르스", "수은등", "아모르파티", "타이틀", "10분내로"]},
    {"singer": "김용임", "songs": ["나이야가라", "내장산", "부초같은인생", "빙빙빙", "사랑님", "열두줄", "울지마라세월아", "인생시계", "훨훨훨"]},
    {"singer": "김의영", "songs": ["용두산엘레지"]}, {"singer": "김의영, 윤태화", "songs": ["비익조"]}, {"singer": "김지애", "songs": ["물레야", "얄미운사람"]},
    {"singer": "김태연(이태호)", "songs": ["간대요글쎄"]}, {"singer": "김혜연", "songs": ["예쁜여우", "토요일밤에"]}, {"singer": "나훈아", "songs": ["고장난벽시계", "내게애인이생겼어요", "사내", "사모", "잡초", "테스형" , "홍시"]},
    {"singer": "남승민", "songs": ["바보같은사람"]}, {"singer": "남진", "songs": ["나야나", "님과함께", "둥지", "빈잔"]}, {"singer": "대성", "songs": ["대박이야"]},
    {"singer": "류계영", "songs": ["인생"]}, {"singer": "문희옥", "songs": ["사랑의거리", "평행선"]}, {"singer": "박군", "songs": ["한잔해"]},
    {"singer": "박상철", "songs": ["무조건", "빵빵", "자옥아", "항구의남자", "황진이"]}, {"singer": "박현빈", "songs": ["곤드레만드레", "샤방샤방"]},
    {"singer": "백난아", "songs": ["찔레꽃"]}, {"singer": "백설희", "songs": ["봄날은간다"]}, {"singer": "서정아", "songs": ["비비각시"]},
    {"singer": "서주경", "songs": ["당돌한여자", "쓰러집니다"]}, {"singer": "서지오", "songs": ["하니하니"]}, {"singer": "소유미", "songs": ["알랑가몰라", "흔들어주세요"]},
    {"singer": "송가인", "songs": ["가인이어라", "무명배우", "서울의달", "엄마아리랑", "트로트가나는좋아요"]}, {"singer": "송대관", "songs": ["네박자", "차표한장"]},
    {"singer": "숙행", "songs": ["가시리"]}, {"singer": "신유", "songs": ["나쁜남자", "시계바늘", "일소일소일노일노", "잠자는공주"]},
    {"singer": "심수봉", "songs": ["그때그사람", "미워요", "백만송이장미", "비나리", "사랑밖엔난몰라", "젊은태양"]}, {"singer": "안소미", "songs": ["술한잔"]},
    {"singer": "양지은", "songs": ["그강을건너지마오", "붓"]}, {"singer": "오승근", "songs": ["내나이가어때서", "있을때잘해"]},
    {"singer": "오은주", "songs": ["돌팔매"]}, {"singer": "요요미", "songs": ["이오빠뭐야", "주연배우"]}, {"singer": "우연이", "songs": ["우연히"]},
    {"singer": "윙크", "songs": ["얼쑤"]}, {"singer": "유산슬", "songs": ["사랑의재개발", "합정역5번출구"]}, {"singer": "유지나", "songs": ["미운사내"]},
    {"singer": "유진표", "songs": ["천년지기"]}, {"singer": "윤수일", "songs": ["아파트"]}, {"singer": "윤수현", "songs": ["꽃길", "손님온다", "천태만상"]},
    {"singer": "이미자", "songs": ["노래는나의인생", "동백아가씨", "섬마을선생님", "아씨", "여로"]}, {"singer": "이상은", "songs": ["언젠가는"]},
    {"singer": "이이경", "songs": ["칼퇴근"]}, {"singer": "이자연", "songs": ["당신의의미", "찰랑찰랑"]}, {"singer": "이효정", "songs": ["우리어머니"]},
    {"singer": "이혜리", "songs": ["모르나봐", "자갈치아지매"]}, {"singer": "임주리", "songs": ["립스틱짙게바르고"]}, {"singer": "장윤정", "songs": ["꽃", "내사랑로미오", "너떠난후에", "다시한번", "당신편", "돼지토끼", "목포행완행열차", "바람길", "반창고", "버팀목", "벚꽃길", "불나비", "사랑아", "사랑참", "세월아", "송인", "애가타", "약속", "어머나", "어부바", "옆집누나", "올래", "운명에게", "이정표", "장윤정트위스트", "좋은당신", "짠짜라", "첫사랑", "초혼", "케세라세라", "콩깍지", "해바라기"]},
    {"singer": "정다경", "songs": ["가라그래"]}, {"singer": "전미경", "songs": ["장녹수"]}, {"singer": "정수라", "songs": ["도라지꽃"]},
    {"singer": "정은실", "songs": ["은실이"]}, {"singer": "정의송", "songs": ["님이여"]}, {"singer": "조은새", "songs": ["나이트", "하트하트"]},
    {"singer": "주현미", "songs": ["그대를불러봅니다", "그다음은나도몰라요", "길", "또만났네요", "러브레터", "사랑가", "신사동그사람", "아버지", "여인의눈물", "여정", "정말좋았네", "짝사랑"]},
    {"singer": "진미령", "songs": ["미운사랑"]}, {"singer": "진성", "songs": ["가지마", "보릿고개", "안동역에서", "울엄마", "태클을걸지마"]},
    {"singer": "채희", "songs": ["바람의소원"]}, {"singer": "최대성", "songs": ["혹시"]}, {"singer": "최진희", "songs": ["꼬마인형", "사랑의미로", "천상재회"]},
    {"singer": "추가열", "songs": ["소풍같은인생"]}, {"singer": "태진아", "songs": ["당신의눈물", "동반자", "사랑은아무나하나", "아줌마", "애인", "진진자라"]},
    {"singer": "편승엽", "songs": ["찬찬찬"]}, {"singer": "한혜진", "songs": ["갈색추억", "너는내남자", "마지막연인", "서울의밤"]},
    {"singer": "홍자", "songs": ["눈물의술잔", "혼잣말"]}, {"singer": "홍지윤", "songs": ["오라"]}, {"singer": "홍진영", "songs": ["그대오는날", "내사랑", "눈물비", "니가있었다", "달의그림자/클랜즈:달의그림자 OST", "따르릉", "부기맨", "비바라비다", "사랑은꽃잎처럼", "사랑은다이러니", "사랑의배터리", "사랑의와이파이", "사랑이좋아", "산다는건", "안돼요", "엄지척", "오늘밤에", "잘가라"]},
    {"singer": "LPG/엘피지", "songs": ["사랑의초인종"]}];
const mrTrot = [{"singer": "김호중", "songs": ["고맙소", "너나나나", "살았소", "태클을걸지마", "할무니"]},
    {"singer": "김희재", "songs": ["별, 그대/별그대"]}, {"singer": "사랑의콜센타", "songs": ["날보러와요"]},
    {"singer": "영탁", "songs": ["니가왜거기서나와", "막걸리한잔", "우리정말나쁘다", "이불", "추억으로가는당신"]},
    {"singer": "이찬원", "songs": ["시절인연", "진또배기"]},
    {"singer": "임영웅", "songs": ["가슴은알죠/나예원", "다시만날수있을까", "무지개", "별빛같은나의사랑아", "보랏빛엽서", "사랑은늘도망가/이문세", "사랑이이런건가요", "아버지", "어느날문득", "오래된노래", "우리들의블루스", "이제나만믿어요", "일편단심민들레야"]},
    {"singer": "장민호", "songs": ["내이름아시죠", "저어라", "정답은없다", "파트너(with정동원)/남진"]},
    {"singer": "정동원", "songs": ["여백", "청춘", "청포도사나이", "파트너(with장민호)/남진"]}];
const old = [{"singer": "강수지", "songs": ["시간속의향기"]}, {"singer": "강승모", "songs": ["무정부르스"]},
    {"singer": "구창모", "songs": ["희나리"]},
    {"singer": "김광석", "songs": ["너무아픈사랑은사랑이아니었음을", "바람이불어오는곳", "서른즈음에", "어느60대노부부이야기", "이등병의편지", "잊어야한다는마음으로"]},
    {"singer": "김신우", "songs": ["귀거래사"]}, {"singer": "김연숙", "songs": ["그날"]},
    {"singer": "김추자", "songs": ["님은먼곳에", "무인도"]}, {"singer": "김현식", "songs": ["사랑했어요"]},
    {"singer": "김혜림", "songs": ["날위한이별"]}, {"singer": "나미", "songs": ["빙글빙글", "슬픈인연"]},
    {"singer": "박기영", "songs": ["마지막사랑"]}, {"singer": "박길라", "songs": ["나무와새"]},
    {"singer": "박성신", "songs": ["한번만더"]}, {"singer": "박정수", "songs": ["그대품에잠들었으면"]},
    {"singer": "배따라기", "songs": ["비와찻잔사이"]}, {"singer": "뱅크", "songs": ["가질수없는너"]},
    {"singer": "변진섭", "songs": ["너에게로또다시", "숙녀에게"]}, {"singer": "별", "songs": ["12월32일"]},
    {"singer": "서울시스터즈", "songs": ["첫차(방실이)", "청춘열차"]}, {"singer": "석미경", "songs": ["물안개"]},
    {"singer": "소리새", "songs": ["그대그리고나"]},
    {"singer": "양수경", "songs": ["당신은어디있나요", "사랑은창밖에빗물같아요", "이별의끝은어디인가요"]},
    {"singer": "양희은", "songs": ["사랑그쓸쓸함에대하여", "이루어질수없는사랑", "하얀목련"]},
    {"singer": "우순실", "songs": ["잃어버린우산"]}, {"singer": "원미연", "songs": ["이별여행"]},
    {"singer": "윤도현", "songs": ["가을우체국앞에서(슬기로운의사생활 시즌2 OST)"]},
    {"singer": "이문세", "songs": ["광화문연가", "소녀", "옛사랑", "휘파람"]},
    {"singer": "이선희", "songs": ["그대손놓아요", "그중에그대를만나", "나항상그대를", "라일락이질때", "바람꽃", "소녀의기도", "아름다운강산", "알고싶어요", "여우비", "인연", "추억의책장을넘기면"]},
    {"singer": "이용", "songs": ["잊혀진계절"]}, {"singer": "이은하", "songs": ["돌이키지마", "미소를띄우며나를보낸그모습처럼", "봄비"]},
    {"singer": "임희숙", "songs": ["내하나의사람은가고"]}, {"singer": "장덕", "songs": ["뒤늦은후회", "소녀와가로등", "이별인줄알았어요"]},
    {"singer": "장연주", "songs": ["여가"]}, {"singer": "장혜리", "songs": ["내게남은사랑을드릴게요", "추억의발라드"]},
    {"singer": "전영록", "songs": ["저녁놀"]}, {"singer": "전유나", "songs": ["그사람", "너를사랑하고도"]},
    {"singer": "최용준", "songs": ["아마도그건"]}, {"singer": "정훈희", "songs": ["꽃밭에서"]},
    {"singer": "조용필", "songs": ["그겨울의찻집", "Bounce/바운스"]}, {"singer": "주니퍼", "songs": ["하늘끝에서흘린눈물"]},
    {"singer": "채은옥", "songs": ["빗물"]}, {"singer": "최연재", "songs": ["너의마음을내게준다면"]}, {"singer": "한경애", "songs": ["옛시인의노래"]},
    {"singer": "햇빛촌", "songs": ["유리창엔비"]}, {"singer": "혜령", "songs": ["슬픔을참는세가지방법"]},
    {"singer": "혜은이", "songs": ["당신은모르실거야", "비가", "새벽비", "열정", "옛사랑의돌담길", "제3한강교", "진짜진짜좋아해"]}];
const other = [{"singer": "등려군", "songs": ["월량대표아적심(첨밀밀 OST)"]},
    {"singer": "Dr.Cantabile", "songs": ["달빛의전설(세일러문 OST)"]},
    {"singer": "Idina Menzel", "songs": ["Let It Go(겨울왕국 OST)/렛잇고"]},
    {"singer": "Naomi Scott/나오미스콧", "songs": ["Speechless(알라딘 OST)/스피치리스"]},
    {"singer": "", "songs": ["검정고무신", "달려라하니", "세일러문", "시대를초월한마음(이누야샤)", "안녕디지몬", "우리는모두친구(포켓몬)"]}];
const duet = [{"singer": "남진, 장윤정", "songs": ["당신이좋아"]}, {"singer": "박정현, 임재범", "songs": ["사랑보다깊은상처"]},
    {"singer": "윤민수, 장혜진", "songs": ["그남자그여자", "술이문제야"]}];
const newUpdate = [];
let songsPerRow; // 한 줄에 몇 개까지 나열할 건지

let allHtml = null;

function changecolor(x) {// mouseenter
    x.style.color = "#000000";
}
function returncolor(x) {// mouseleave
    x.style.color = "#ffffff";
}

function cleartext() {// 초기화
    document.getElementById("searchBox").value = null;
    document.getElementById("show").innerHTML = allHtml;
}

function distinguish() {// 모바일 환경 고려
    let filter = "win16|win32|win64|mac|macintel";
    if (navigator.platform) {
        if (filter.indexOf(navigator.platform.toLowerCase()) < 0) {
            songsPerRow = 2;
        }
        else {
            songsPerRow = 6;
        }
    }
}

function spanCalc(x) {// 몇 줄인지 계산
    let remainder = x % songsPerRow;
    if (remainder == 0) {
        return x / songsPerRow;
    }
    else return (x - remainder) / songsPerRow + 1;
}

function showAll() {// 목록 전부 보여주기
    distinguish();

    //makeNewTable();
    htmlText = "</tr></table><br><table id=\"baegna\" align=\"center\">";
    showTable(title);
    htmlText += "<br><table align=\"center\" <caption><h3 id=\"trot\"></h3></caption>";
    showTable(trot);
    htmlText += "<br><table align=\"center\" <caption><h3 id=\"mrTrot\"></h3></caption>";
    showTable(mrTrot);
    htmlText += "<br><table align=\"center\" <caption><h3 id=\"old\"></h3></caption>";
    showTable(old);
    htmlText += "<br><table align=\"center\" <caption><h3 id=\"other\"></h3></caption>";
    showTable(other);
    htmlText += "<br><table align=\"center\" <caption><h3 id=\"duet\"></h3></caption>";
    showDuet();

    document.getElementById("show").innerHTML = htmlText;
    allHtml = htmlText;
}

function showDuet() {
    for (let i = 0; i < duet.length; i++) {
        let songslen = duet[i].songs.length;
        let spannum = spanCalc(songslen);
        htmlText += "<tr><th rowspan=\"" + spannum + "\">" + duet[i].singer.split("/")[0] + "</th>"; // 가수
        for (let j = 0; j < songslen; j++) { // 노래들
            htmlText += "<td ";
            if (songsPerRow == 2) {
                htmlText += "style=\"width:34%;\"";
            }
            else {
                htmlText += "style=\"width:34%;\"";
            }
            htmlText += ">" + duet[i].songs[j].split("/")[0] + "</td>";
            if (j % songsPerRow == songsPerRow - 1) {
                htmlText += "</tr>";
                if (j != songslen - 1) {
                    htmlText += "<tr>";
                }
            }
        }
        if (songslen % songsPerRow != 0) {
            htmlText += "</tr>";
        }
    }
    htmlText += "</table>";
}

function makeNewTable() {
    htmlText = "<table id=\"new\" align=\"center\"><tr><td style=\"background-color: rgb(50, 250, 150);\"";
    let newLength = newUpdate.length;
    let newSpan = spanCalc(newLength) * 2;
    let half = songsPerRow / 2;
    let remainder = newLength % songsPerRow;
    if (remainder > 0 && remainder <= half) {
        newSpan = newSpan - 1;
    }
    htmlText += " rowspan=\"" + newSpan + "\">New</td>";
    for (let i = 0; i < newLength; i++) {
        htmlText += "<td ";
        if (songsPerRow == 2) {
            htmlText += "style=\"width:68%;\"";
        }
        else {
            htmlText += "style=\"width:29%;\"";
        }
        htmlText += ">" + newUpdate[i] + "</td>";
        if (i % half == half - 1) {
            htmlText += "</tr>";
            if (i != newLength - 1) {
                htmlText += "<tr>";
            }
        }
    }
}

function showTable(table) {
    for (let i = 0; i < table.length; i++) {
        let songslen = table[i].songs.length;
        let spannum = spanCalc(songslen);
        htmlText += "<tr><th rowspan=\"" + spannum + "\">" + table[i].singer.split("/")[0] + "</th>"; // 가수
        for (let j = 0; j < songslen; j++) { // 노래들
            htmlText += "<td ";
            if (songsPerRow == 2) {
                htmlText += "style=\"width:34%;\"";
            }
            else {
                htmlText += "style=\"width:14.5%;\"";
            }
            htmlText += ">" + table[i].songs[j].split("/")[0] + "</td>";
            if (j % songsPerRow == songsPerRow - 1) {
                htmlText += "</tr>";
                if (j != songslen - 1) {
                    htmlText += "<tr>";
                }
            }
        }
        if (songslen % songsPerRow != 0) {
            htmlText += "</tr>";
        }
    }
    htmlText += "</table>";
}

function search(str) {// 검색 결과 띄우기
    if (str == '') {// 빈 칸이면 전체 보여줌
        document.getElementById("show").innerHTML = allHtml;
    }
    else {
        let searchedSinger = "<table align=\"center\">";
        let searchedSong = "<table align=\"center\">";
        let words = str.trim().split(/\s+/);// 띄어쓰기 검색 고려, 단어로 나눔
        let wordslen = [];// 단어의 길이
        let numwords = words.length;// 단어 수
        for (let i = 0; i < numwords; i++) {// 각 단어 길이 구하기
            let wordlen = words[i].length;
            wordslen.push(wordlen);
        }
        ({ searchedSinger, searchedSong } = searchTable(title, words, wordslen, numwords, searchedSinger, searchedSong));
        ({ searchedSinger, searchedSong } = searchTable(trot, words, wordslen, numwords, searchedSinger, searchedSong));
        ({ searchedSinger, searchedSong } = searchTable(mrTrot, words, wordslen, numwords, searchedSinger, searchedSong));
        ({ searchedSinger, searchedSong } = searchTable(old, words, wordslen, numwords, searchedSinger, searchedSong));
        ({ searchedSinger, searchedSong } = searchTable(other, words, wordslen, numwords, searchedSinger, searchedSong));
        ({ searchedSinger, searchedSong } = searchTable(duet, words, wordslen, numwords, searchedSinger, searchedSong));
        document.getElementById("show").innerHTML = searchedSinger + searchedSong;
    }
}

function searchTable(table, words, wordslen, numwords, searchedSinger, searchedSong) {
    for (let i = 0; i < table.length; i++) {
        let singer = table[i].singer;// 가수
        let songs = table[i].songs;// 노래들
        let songslen = songs.length;// 노래 수
        let spannum = spanCalc(songslen);
        let searchResult = [];// 검색 결과
        for (let j = 0; j < numwords; j++) {// 가수 검색
            let wordSearch = singer.toLowerCase().search(words[j].toLowerCase());
            if (wordSearch != -1) {
                searchResult.push(wordSearch);
            }
        }
        singer = singer.split("/")[0];
        if (numwords == searchResult.length) {// 가수에서 단어들이 다 검색되면
            searchedSinger = singerSearch(searchedSinger, spannum, singer, searchResult, numwords, wordslen);// 검색된 가수 이름 띄우기

            searchedSinger = songsOfSinger(songslen, numwords, songs, words, searchedSinger, wordslen);// 검색된 가수의 노래 띄우기
        }
        else {// 가수에서 검색되지 않음 -> 노래에서 검색
            for (let j = 0; j < songslen; j++) {
                searchResult = [];
                for (let k = 0; k < numwords; k++) {
                    let wordSearch = songs[j].toLowerCase().search(words[k].toLowerCase());
                    if (wordSearch != -1) {
                        searchResult.push(wordSearch);
                    }
                }
                if (numwords == searchResult.length) {// 검색된 게 있으면 표시와 함께 띄움
                    let song = songs[j].split("/")[0];
                    searchedSong += "<tr><td>" + singer + "</td>" + "<td>" + song.substring(0, searchResult[0]);
                    let pos;
                    let index;
                    for (let k = 0; k < numwords; k++) {
                        if (k == 0) {
                            pos = searchResult[0];
                            index = 0;
                            searchedSong += "<b>" + song.substr(pos, wordslen[0]) + "</b>";
                        }
                        else {
                            if (searchResult[k] > pos) {
                                pos = searchResult[k];
                                index = k;
                                searchedSong += "<b>" + song.substr(pos, wordslen[k]) + "</b>";
                            }
                        }
                        if (k != numwords - 1) {
                            if (searchResult[k] + wordslen[k] < searchResult[k + 1]) {
                                searchedSong += song.substring(searchResult[k] + wordslen[k], searchResult[k + 1]);
                            }
                        }
                    }
                    searchedSong += song.substr(pos + wordslen[index]) + "</td></tr>";
                }
            }
        }
    }
    return { searchedSinger, searchedSong };
}

function songsOfSinger(songslen, numwords, songs, words, searchedSinger, strlen) {
    for (let j = 0; j < songslen; j++) {
        let songResult = []; // 가수 노래 검색
        let index = [];
        for (let k = 0; k < numwords; k++) { // 노래에서도 검색되는지 확인
            let songSearch = songs[j].toLowerCase().search(words[k].toLowerCase());
            if (songSearch != -1) {
                songResult.push(songSearch);
                index.push(k);
            }
        }
        let song = songs[j].split("/")[0];
        let inlen = index.length;
        if (inlen != 0) { // 노래에서 검색된 게 있으면 표시와 함께 띄움
            let pos;
            let ind;
            ({ pos, ind, searchedSinger } = highlightSong(searchedSinger, song, songResult, inlen, index, strlen));
            searchedSinger += song.substr(pos + strlen[ind]) + "</td>";
        }
        else { // 없으면 그냥 띄움
            searchedSinger += "<td ";
            if (songsPerRow == 2) {
                searchedSinger += "style=\"width:34%;\"";
            }
            else {
                searchedSinger += "style=\"width:14.5%;\"";
            }
            searchedSinger += ">" + song + "</td>";
        }
        if (j % songsPerRow == songsPerRow - 1) {
            searchedSinger += "</tr>";
            if (j != songslen - 1) {
                searchedSinger += "<tr>";
            }
        }
    }
    if (songslen % songsPerRow != 0) {
        searchedSinger += "</tr>";
    }
    return searchedSinger;
}

function highlightSong(searchedSinger, song, songResult, inlen, index, strlen) {
    searchedSinger += "<td ";
    if (songsPerRow == 2) {
        searchedSinger += "style=\"width:34%;\"";
    }
    else {
        searchedSinger += "style=\"width:14.5%;\"";
    }
    searchedSinger += ">" + song.substring(0, songResult[0]);
    let pos;
    let ind;
    for (let k = 0; k < inlen; k++) {
        if (k == 0) {
            pos = songResult[0];
            ind = index[0];
            searchedSinger += "<b>" + song.substr(pos, strlen[ind]) + "</b>"; // 처음 검색된 부분
        }
        else {
            if (songResult[k] > pos) {
                pos = songResult[k];
                ind = index[k];
                searchedSinger += "<b>" + song.substr(pos, strlen[ind]) + "</b>"; // 다음 검색된 부분
            }
        }
        if (k != inlen - 1) {
            let inK = index[k];
            if (songResult[k] + strlen[inK] < songResult[k + 1]) {
                searchedSinger += song.substring(songResult[k] + strlen[inK], songResult[k + 1]);
            }
        }
    }
    return { pos, ind, searchedSinger };
}

function singerSearch(searchedSinger, spannum, singer, searchResult, numwords, strlen) {
    searchedSinger += "<tr><td rowspan=\"" + spannum + "\" ";
    if (songsPerRow == 2) {
        searchedSinger += "style=\"width:32%;\"";
    }
    else {
        searchedSinger += "style=\"width:13%;\"";
    }
    searchedSinger += ">" + singer.substring(0, searchResult[0]); // 첫 단어 검색 전
    let pos;
    let index;
    for (let j = 0; j < numwords; j++) {
        if (j == 0) {
            pos = searchResult[0];
            index = 0;
            searchedSinger += "<b>" + singer.substr(pos, strlen[0]) + "</b>"; // 처음 검색된 부분
        }
        else {
            if (searchResult[j] > pos) {
                pos = searchResult[j];
                index = j;
                searchedSinger += "<b>" + singer.substr(pos, strlen[j]) + "</b>"; // 다음 검색된 부분
            }
        }
        if (j != numwords - 1) { // 마지막 단어가 아니면
            if (searchResult[j] + strlen[j] < searchResult[j + 1]) { // 다음 단어 검색 전
                searchedSinger += singer.substring(searchResult[j] + strlen[j], searchResult[j + 1]);
            }
        }
    }
    searchedSinger += singer.substr(pos + strlen[index]) + "</td>"; // 마지막 단어 검색 후
    return searchedSinger;
}